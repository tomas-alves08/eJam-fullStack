{"version":3,"file":"client_components_OpenMic_jsx.bundle.js","mappings":"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","sources":["webpack://boilerplate-react-knex/./client/components/OpenMic.jsx","webpack://boilerplate-react-knex/./client/firebase-config.js"],"sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { useParams, useNavigate } from 'react-router-dom'\nimport { showUpdate, removeOpenMic, fetchOneOpenMic } from '../actions'\nimport { useDispatch, useSelector } from 'react-redux'\n\nimport { onAuthStateChanged } from 'firebase/auth'\nimport { auth } from '../firebase-config'\n\nconst OpenMic = () => {\n  const [authorization, setAuthorization] = useState(false)\n\n  const { openMicId } = useParams()\n  const navigate = useNavigate()\n  const dispatch = useDispatch()\n\n  // AUTH\n  const [user, setUser] = useState(false)\n\n  onAuthStateChanged(auth, (currentUser) => {\n    setUser(currentUser)\n  })\n\n  const token = useSelector((state) => state.authReducer)\n\n  // REDUX\n  const openMicResp = useSelector((state) => state.openMicRed)\n\n  let selectedOpenMic =\n    openMicResp.length > 1\n      ? openMicResp?.find((openMic) => openMic.id == openMicId)\n      : openMicResp[0]\n\n  // FUNCTIONS\n  const handleDelete = async (id) => {\n    dispatch(removeOpenMic(openMicId))\n    alert('Open Deleted')\n    navigate('/')\n    navigate(0)\n  }\n\n  const handleUpdate = async (status, id) => {\n    dispatch(fetchOneOpenMic(openMicId))\n    dispatch(showUpdate(true, openMicId))\n\n    navigate(`/openMics/${openMicId}/update`)\n  }\n\n  // USE EFFECT\n  useEffect(() => {\n    console.log('Selected OpenMic Auth: ', selectedOpenMic?.auth_token)\n    console.log('Token: ', token)\n    if (\n      selectedOpenMic?.auth_token === token ||\n      selectedOpenMic?.auth_token == user?.uid\n    )\n      setAuthorization(true)\n\n    window.scrollTo(0, 0)\n  }, [selectedOpenMic])\n\n  return (\n    <div>\n      <div className=\"display-container\">\n        <div className=\"openmic-page\">\n          {selectedOpenMic?.venue && (\n            <p className=\"openmic-page-venue\">{selectedOpenMic?.venue}</p>\n          )}\n\n          {selectedOpenMic?.city && selectedOpenMic?.location && (\n            <p className=\"openmic-page-info\">\n              Address: {selectedOpenMic?.location} - {selectedOpenMic?.city}\n            </p>\n          )}\n\n          {selectedOpenMic?.frequency === 'Weekly' ? (\n            <p className=\"openmic-page-info\">\n              Every {selectedOpenMic?.day} from {selectedOpenMic?.start_time} to{' '}\n              {selectedOpenMic?.finish_time}\n            </p>\n          ) : selectedOpenMic?.frequency === 'Fortnightly' ? (\n            <p className=\"openmic-page-info\">\n              Every Second {selectedOpenMic?.day} from{' '}\n              {selectedOpenMic?.start_time} to {selectedOpenMic?.finish_time}\n            </p>\n          ) : selectedOpenMic?.frequency === 'Monthly' ? (\n            <p className=\"openmic-page-info\">\n              Every {selectedOpenMic.week} {selectedOpenMic?.day} from{' '}\n              {selectedOpenMic?.start_time} to {selectedOpenMic?.finish_time}\n            </p>\n          ) : (\n            selectedOpenMic?.frequency === 'One-Off' && (\n              <p className=\"openmic-page-info\">\n                Event will happen on {selectedOpenMic?.date} from{' '}\n                {selectedOpenMic?.start_time} to {selectedOpenMic?.finish_time}\n              </p>\n            )\n          )}\n\n          {selectedOpenMic?.instrument_one !== null && (\n            <p className=\"openmic-page-info\">\n              {`Available Instruments: ${selectedOpenMic?.instrument_one}`}\n              {selectedOpenMic?.instrument_two &&\n                `, ${selectedOpenMic.instrument_two}`}\n              {selectedOpenMic?.instrument_three &&\n                `, ${selectedOpenMic.instrument_three}`}\n              {selectedOpenMic?.instrument_four &&\n                `, ${selectedOpenMic.instrument_four}`}\n              {selectedOpenMic?.instrument_five &&\n                `, ${selectedOpenMic.instrument_five}`}\n              {selectedOpenMic?.instrument_six &&\n                `, ${selectedOpenMic.instrument_six}`}\n            </p>\n          )}\n\n          {authorization && (\n            <div>\n              {selectedOpenMic !== null && (\n                <button className=\"button\" onClick={handleUpdate}>\n                  Update\n                </button>\n              )}\n              {selectedOpenMic !== null && (\n                <button\n                  className=\"button\"\n                  onClick={() => handleDelete(selectedOpenMic?.id)}\n                >\n                  Delete\n                </button>\n              )}\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default OpenMic\n","import { initializeApp } from 'firebase/app'\nimport { getAuth } from 'firebase/auth'\n\nconst firebaseConfig = {\n  apiKey: process.env.API_KEY,\n  authDomain: process.env.AUTH_DOMAIN,\n  projectId: process.env.PROJECT_ID,\n  storageBucket: process.env.STORAGE_BUCKET,\n  messagingSenderId: process.env.MESSAGE_SENDING_ID,\n  appId: process.env.APP_ID,\n  measurementId: process.env.MEASUREMENT_ID,\n}\n\nconst app = initializeApp(firebaseConfig)\n\nexport const auth = getAuth(app)\n"],"names":["React","useState","useEffect","useParams","useNavigate","showUpdate","removeOpenMic","fetchOneOpenMic","useDispatch","useSelector","onAuthStateChanged","auth","OpenMic","authorization","setAuthorization","openMicId","navigate","dispatch","user","setUser","currentUser","token","state","authReducer","openMicResp","openMicRed","selectedOpenMic","length","find","openMic","id","handleDelete","alert","handleUpdate","status","console","log","auth_token","uid","window","scrollTo","venue","city","location","frequency","day","start_time","finish_time","week","date","instrument_one","instrument_two","instrument_three","instrument_four","instrument_five","instrument_six","initializeApp","getAuth","firebaseConfig","apiKey","process","env","API_KEY","authDomain","AUTH_DOMAIN","projectId","PROJECT_ID","storageBucket","STORAGE_BUCKET","messagingSenderId","MESSAGE_SENDING_ID","appId","APP_ID","measurementId","MEASUREMENT_ID","app"],"sourceRoot":""}